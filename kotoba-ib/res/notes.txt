Интерфейс для запросов.

/azu		- просмотр доски с именем azu (по умолчанию страница 1).
/azu/1		- просмотр нити с номером 1 на доске с именем azu.
/azu/1#2	- просмотр сообщения (подсветка) с номером 2 в нити с номером 1 на доске с именем azu.
/azu/p2		- просмотр страницы 2 доски с именем azu.
/azu/r2		- удаление сообщения (или нити, если сообщение начинает нить) с номером 2 с доски с именем azu.
/azu/h1		- скрыть нить с номером 1 на доске с именем azu.
/azu/u1		- отменить скрытие нити с номером 1 на доске с именем azu.
Все перечисленные ссылки могут завершаться /.

Виды правил.

* = null
x = id группы, доски, нити или сообщения
- = правило не имеет смысла
+ = правило имеет смысл
g = правило для группы
b = правило для доски
t = правило для нити
p = правило для сообщения

				-t (x, x, x, *)
+b (x, x, *, *)
+t (x, *, x, *)
+g (x, *, *, *)
				-t (*, x, x, *)
+b (*, x, *, *)
+t (*, *, x, *)
				-p (x, x, x, x)
				-p (x, x, *, x)
				-p (x, *, x, x)
+p (x, *, *, x)
				-p (*, x, x, x)
				-p (*, x, *, x)
				-p (*, *, x, x)
+p (*, *, *, x)
Правила, не имеющий смысла осталены для наглядности.

Интерпретация разрешений.

Доска:
1) View		- показывать доску в списке досок, разрешить просмотр доски
2) Change	- разрешить создание нитей
3) Moderate	- показывать ip, разрешить банить, разрешить изменять настройки нитей и постов

Нить:
1) View		- показывать нить в просмотре доски, показывать нить целиком
2) Change	- разрешить ответы в нить
3) Moderate - разрешить изменение настроек нити

Сообщение:
1) View		- показывать пост в просмотре доски, показывать пост в просмотре нити
2) Change	- не определено
3) Moderate	- не определено

Таблица загрузок.

На данный момент может быть 3 вида загрузок:
1) Файл, который загрузил пользователь на сервер при ответе или создании нити.
2) Ссылка на внешний файл. Например, на картинку с макрочана.
3) Код встроенного объекта. Например, потоковое видео.
hash - md5 хеш загруженного пользователем на сервер файла. Соотвественно для
загрузок типа ссылок и кода объектов (например, видео с ютуба) это поле не имеет
смысла и устанавливается в null
is_image - флаг, который показывает, является ли загруженный пользователем на
сервер файл изображением. Если да, то в таблице загрузок хранятся имя этого
файла и его уменьшенной копии. Если нет, то в таблице загрузок хранится путь к
стандартной картинке, которая будет отображаться вместо уменьшенной копии для
этого файла.
link_type - тип того, что лежит в поле file и thumbnail - тип ссылки на загрузку.
Для загруженных пользователем на сервер файлов - это имя файла. Для ссылок - это
URL, для встроенных объектов - html код.