Windows (XP)

1. Установка и настройка Apache
2. Установка и настройка PHP
3. Установка и настройка MySQL
4. Установка и настройка Kotoba
5. Возможные проблемы

1. Установка и настройка Apache

Скачайте последнюю версию веб-сервера Apache с сайта http://httpd.apache.org/ На момент написания данного руководства, последняя версия Apache 2.2.11 На странице
загрузки выберите Win32 Binary или с поддержкий шифрования или без. Запустите установку Apache, выберите доменно имя, имя сервера и адрес электронной почти администратора.
Тип установки можно выбрать обычный. Путь, куда будет установлен веб-сервер, лучше выбрать простой без пробелов. Мы выбрали С:\Apache22\
После того как сервер будет установлен, остановите его с помощью Монитора (Monitor Apache Servers) или с помощью ярылков в меню 
Все программы -> Apache HTTP Server 2.2 -> Control Apache Server. Откройте конфигурационный файл веб-сервера С:\Apache22\conf\httpd.conf Первое, что необходимо сделать,
это убедится, что модуль rewrite_module подключен. Для этого разкомментируйте строчку "LoadModule rewrite_module modules/mod_rewrite.so" если она закомментирована.
Рекомендуется так же отключить все не нужные вам модули. Если вы не знаете, что делает тот или иной модуль, обратитесь к документации на сайте Apache. На мой взгляд,
начинать лучше с этого http://httpd.apache.org/docs/2.2/configuring.html документа. Обратите внимание на номер версии 2.2 в пути к документу. Потратьте время на изучение
документации, пока вы точно не будете знать, какой смысл имеет каждая строчка в файле С:\Apache22\conf\httpd.conf После этого можно решить, что в нем удалить, а что
добавить.
Создайте в директории C:\Apache22\htdocs\ директорию, куда вы собираетесь поместить Котобу. Мы создали С:\Apache22\htdocs\kotoba\ Теперь вернитесь в конфигурационный файл
веб-сервера и найдите то место в нем, где идут директивы <Directory> Добавьте к ним следующую директиву:

<Directory C:/Apache22/htdocs/kotoba/>
    AllowOverride FileInfo Indexes
</Directory>

Это позволит Котобе устанавливать необходимые настройки веб-сервера в директории, где она будет находится (эти настройки находятся в файле .htaccess дистрибутива Котобы).
!!!!!! .SVN
Первоначальная настройка веб-сервера на этом закончена. Далее мы установим php и вернемся к настройке веб-сервера, чтобы связать его с php.

2. Установка и настройка PHP

Скачайте последнюю версию php с сайта http://www.php.net/ На странице загрузки выберите Windows Binaries в виде zip архива. На момент написания данного руководства,
последняя версия php 5.2.9-1 Распакуйте zip архив, мы выбрали для этого директорию такую же простую как и для веб-сервера: C:\php5\
Перейдите в директорию C:\php5\ создайте копию файла php.ini-recommended и переименуйте его в php.ini Теперь можно приступать к настройке php. Откройте файл php.ini
и найдите в нем место, где идёт список подключаемых расширений (Windows Extensions) В этом списке раскомментируйте строки "extension=php_gd2.dll" (для работы с изображениями), 
"extension=php_mbstring.dll" (для поддержки текста в многобайтовых кодировках), "extension=php_mysql.dll" (для работы с MySQL). Обычно чуть выше в конфигурационном
файле расположена секция File Uploads, найдите в ней параметр upload_max_filesize и установите его значение в 5 мегабайт: upload_max_filesize = 5242880 Ещё выше
в конфигурационном файле найдите секцию Paths and Directories в ней в параметре extension_dir укажите путь к расширениям: extension_dir = "C:/php5/ext/" На этом настройка
php закончена, теперь подключим php к веб-серверу. Откройте конфигурационный файл С:\Apache22\conf\httpd.conf найдите в нем место, где подключаются модули и добавьте туда
следующие строки:

LoadModule php5_module C:/php5/php5apache2_2.dll
PHPIniDir "C:/php5/"

Далее в тексте лога найдите директиву <IfModule mime_module> и добавьте новый MIME для php скриптов: AddType application/x-httpd-php .php
Подключение php к веб-серверу закончено и можно приступить к установке сервера БД.

3. Установка и настройка MySQL

Скачайте последнюю версию сервера баз данных MySQL с сайта http://www.mysql.com/ Выберите MySQL Community Server для Windows или Windows x64. Последняя версия
на момент написания руководства 5.1.32 Для того чтобы скачать MySQL вам нужно будет бесплатно зарегистироваться на сайте MySQL. После того как зарегистрируетесь,
скачайте MSI Installer и запустите установку. Выберите тип установки Custom и измените директорию установки на более простой путь без пробелов. Мы выбрали C:\MySQL5\
При предложении сконфигурировать сервер, согласитесь. После запуска мастера настройки (Configuraion Wizard), выберите Детальную настройку, тип машины сервер, тип базы
данных - многофукнциональная. Количество одновременных соединений можете установить по вашему выбору. Все эти и следующие настройки в последствии можно будет изменить,
вызвав этот же Мастер настройки или отредактировав конфигурационный файл. Набор символов выберите UTF8. Поставьте галочки установить как сервис Windows и включить путь к
директории испольняемых файлов в переменную path окружения Windows. При предложении вам изменить настройки безопасности, откажитесь, сняв галочку. Установка MySQL на 
этом закончена.

4. Установка и настройка Kotoba

Создайте рабочую копию Котобы в директории, созданной для неё на шаге 1: С:\Apache22\htdocs\kotoba\ Теперь нужно создать базу данных Котобы. Для этого перейдите в
директорию C:\Apache22\htdocs\kotoba\res\ и найдите там файл restore base struct.bat, отредактируйте в нем пусть к файлу kotoba struct.sql и запустите. Скрипт
restore base struct.bat создаст базу данных Котобы. Откройте файл С:\Apache22\htdocs\kotoba\common.php и измените в нем значение константы KOTOBA_DIR_PATH на
'/kotoba'. Запустите веб-сервер с помошью тех же средств, что были использованы на шаге 1 для останова и наберите в браузере http://localhost/kotoba/ Установка Котобы
закончена.

5. Баги.

Вопрос:
I've set up the latest Apache with latest PHP on Windows, but when starting Apache I get next error
PHP Startup: Unable to load dynamic library C:/PHP/php_mysql.dll'

Ответ:
In your php.ini you need to uncoment the following line:
;extension=php_mysql.dll becomes:
extension=php_mysql.dll
save & restart apache (or your web server)
Also, you should make sure that extension_dir is set properly (in your php.ini file):
eg for Windows:
extension_dir = "C:/www/php5/ext/"
and if you still have problems, copy libmysql.dll to %windir%\system32 folder... (php_mysql.dll depends on libmysql.dll)